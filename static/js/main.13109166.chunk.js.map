{"version":3,"sources":["redux/weather.redux.js","redux/reducers/index.js","utils/weatherConfig.js","redux/store/index.js","components/Header/index.js","utils/autoComplete.js","containers/Search/index.js","components/WeatherItem/index.js","containers/WeatherList/index.js","index.js"],"names":["initState","data","message","getWeatherData","cityName","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","url","res","wrap","_context","prev","next","concat","axios","get","sent","status","type","payload","t0","stop","_x","apply","this","arguments","combineReducers","weather","state","length","undefined","action","dataArr","currentID","id","array","cityId","i","isCityExist","arr","output","splice","deleteDuplicate","unshift","objectSpread","push","store","createStore","reducer","window","__REDUX_DEVTOOLS_EXTENSION__","compose","applyMiddleware","thunkMiddleware","Header","props","react_default","createElement","className","content","getSuggestions","value","inputValue","toLowerCase","inputLength","cityList","filter","element","name","slice","getSuggestionValue","suggestion","Search","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","SuggestionList","handleChange","e","setState","target","onChange","newValue","onSuggestionsFetchRequested","_ref2","suggestions","onSuggestionsClearRequested","handleKeyDown","keyCode","_this$state","inputProps","placeholder","onKeyDown","dist_default","renderSuggestion","Component","actionCreators","connect","WeatherItem","key","src","icon","alt","temp","city","description","WeatherList","console","log","weatherData","map","WeatherItem_WeatherItem","f","main","toFixed","Header_Header","containers_Search","react_transition_group","transitionName","transitionEnterTimeout","transitionLeaveTimeout","ReactDOM","render","es","containers_WeatherList","document","getElementById"],"mappings":"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","file":"static/js/main.13109166.chunk.js","sourcesContent":["import axios from 'axios'\nimport { isCityExist, deleteDuplicate } from '../utils/weatherConfig'\nconst initState = { data: [], message: 'Weather' }\n\nconst GET_WEATHER_DATA_SUCCESS = 'GET_WEATHER_DATA_SUCCESS'\nconst GET_WEATHER_DATA_ERROR = 'GET_WEATHER_DATA_ERROR'\n\n//Reducer\nexport const weather = (state = initState, action) => {\n\tswitch (action.type) {\n\t\tcase GET_WEATHER_DATA_SUCCESS:\n\t\t\tconst dataArr = state.data\n\t\t\tconst currentID = action.payload.id\n\t\t\tif (isCityExist(dataArr, currentID)) {\n\t\t\t\tconst arr = deleteDuplicate(dataArr, currentID)\n\t\t\t\tarr.unshift(action.payload)\n\t\t\t\treturn (state = { ...state, data: arr })\n\t\t\t}\n\t\t\tstate.data.push(action.payload)\n\t\t\treturn (state = { ...state })\n\t\tcase GET_WEATHER_DATA_ERROR:\n\t\t\treturn (state = { ...state, message: `Can not find City name '${action.payload}'`})\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport const getWeatherData = cityName => async dispatch => {\n\tconst url = `https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=bd45fc9db8849cb46d00a451483ccd44`\n\ttry {\n\t\tconst res = await axios.get(url)\n\t\tif (res.status === 200) dispatch({ type: GET_WEATHER_DATA_SUCCESS, payload: res.data })\n\t} catch (error) {\n\t\tdispatch({ type: GET_WEATHER_DATA_ERROR, payload: cityName })\n\t}\n}\n","import { combineReducers } from 'redux'\nimport { weather } from '../weather.redux'\n\nexport default combineReducers({\n\tweather\n})\n","export const isCityExist = (array, cityId) => {\n\tfor (let i = 0; i < array.length; i++) {\n\t\tif (!array) return false\n\t\tif (array[i].id === cityId) {\n\t\t\treturn true\n\t\t}\n\t}\n\treturn false\n}\n\nexport const deleteDuplicate = (array, cityId) => {\n\tlet output = array\n\tfor (let i = 0; i < array.length; i++) {\n\t\tif (!array) return false\n\t\tif (array[i].id === cityId) {\n\t\t\toutput.splice(i, 1)\n\t\t\treturn output\n\t\t}\n\t}\n}\n\nexport const fToC = f => {\n\treturn (f - 273.15).toFixed(1) + '\\xB0C'\n}\n","import reducer from '../reducers'\nimport { createStore, applyMiddleware, compose } from 'redux'\nimport thunkMiddleware from 'redux-thunk'\n\nexport const store = createStore(\n\treducer,\n\twindow.__REDUX_DEVTOOLS_EXTENSION__\n\t\t? compose(\n\t\t\t\tapplyMiddleware(thunkMiddleware),\n\t\t\t\twindow.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n\t\t\t)\n\t\t: compose(applyMiddleware(thunkMiddleware))\n)\n","import React from 'react'\nimport './Header.scss'\n\nexport default function Header(props){\n\treturn (\n\t\t<div className='header'>\n\t\t\t<h1>{props.content}</h1>\n\t\t</div>\n\t)\n}\n","import cityList from './cities'\n\nexport const getSuggestions = value => {\n\tconst inputValue = value.toLowerCase()\n\tconst inputLength = inputValue.length\n\n\treturn inputLength === 0 ? [] : cityList.filter(element => element.name.toLowerCase().slice(0, inputLength) === inputValue).slice(0, 30)\n}\n\nexport const getSuggestionValue = suggestion => suggestion.name\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { getWeatherData } from '../../redux/weather.redux'\nimport Autosuggest from 'react-autosuggest'\nimport { getSuggestions, getSuggestionValue } from '../../utils/autoComplete'\nimport './Search.scss'\n\nclass Search extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tvalue: '',\n\t\t\tsuggestions: []\n\t\t}\n\t}\n\n\tSuggestionList = suggestion => <div>{suggestion.name}</div>\n\n\thandleChange = e => this.setState({ value: e.target.value })\n\n\tonChange = (e, { newValue }) => this.setState({ value: newValue })\n\n\tonSuggestionsFetchRequested = ({ value }) => this.setState({ suggestions: getSuggestions(value) })\n\n\tonSuggestionsClearRequested = () => this.setState({ suggestions: [] })\n\n\thandleKeyDown = e => {\n\t\tif (e.keyCode === 13 && this.state.value) {\n\t\t\tthis.props.getWeatherData(this.state.value)\n\t\t\tthis.setState({ value: '' })\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { value, suggestions } = this.state\n\t\tconst inputProps = {\n\t\t\tplaceholder: 'Type Your City...',\n\t\t\tclassName: 'input',\n\t\t\tvalue,\n\t\t\tonChange: this.onChange,\n\t\t\tonKeyDown: this.handleKeyDown\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Autosuggest \n\t\t\t\t\tonKeyDown={this.handleKeyDown} \n\t\t\t\t\tsuggestions={suggestions} \n\t\t\t\t\tonSuggestionsFetchRequested={this.onSuggestionsFetchRequested} \n\t\t\t\t\tonSuggestionsClearRequested={this.onSuggestionsClearRequested} \n\t\t\t\t\tgetSuggestionValue={getSuggestionValue} \n\t\t\t\t\trenderSuggestion={this.SuggestionList} \n\t\t\t\t\tinputProps={inputProps} />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => state\nconst actionCreators = { getWeatherData }\n\nexport default connect(mapStateToProps, actionCreators)(Search)\n","import React from 'react'\nimport './WeatherItem.scss'\n\nexport default function WeatherItem(props){\n\treturn (\n\t\t<div className='item-box' key={props.id}>\n\t\t\t<img src={props.icon} alt='' />\n\t\t\t<div className='temp'>{props.temp}</div>\n\t\t\t<div className='city'>{props.city}</div>\n\t\t\t<div className='desc'>{props.description}</div>\n\t\t</div>\n\t)\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { getWeatherData } from '../../redux/weather.redux'\nimport Header from '../../components/Header'\nimport Search from '../Search'\nimport WeatherItem from '../../components/WeatherItem'\nimport { fToC } from '../../utils/weatherConfig'\nimport { CSSTransitionGroup } from 'react-transition-group'\nimport './WeatherList.scss'\n\nclass WeatherList extends Component {\n\trender() {\n\t\tconsole.log(this.props)\n\t\tconst weather = this.props.weather\n\t\tconst weatherData = weather.data.map(data => {\n\t\t\treturn (\n\t\t\t<WeatherItem \n\t\t\t\tkey={data.id} \n\t\t\t\tcity={data.name} \n\t\t\t\ttemp={fToC(data.main.temp)} \n\t\t\t\tdescription={data.weather[0].description} \n\t\t\t\ticon={`http://openweathermap.org/img/w/${data.weather[0].icon}.png`} />)\n\t\t})\n\t\treturn (\n\t\t\t<div className={'weather-box'}>\n\t\t\t\t<Header content={weather.message} />\n\t\t\t\t<Search />\n\t\t\t\t<CSSTransitionGroup\n          transitionName=\"example\"\n          transitionEnterTimeout={200}\n          transitionLeaveTimeout={200}>\n          {weatherData}\n        </CSSTransitionGroup>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => state\nconst actionCreators = { getWeatherData }\nexport default connect(mapStateToProps, actionCreators)(WeatherList)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { store } from './redux/store'\nimport WeatherList from './containers/WeatherList'\nimport './style/global.scss'\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<div className='App'>\n\t\t\t<WeatherList />\n\t\t</div>\n\t</Provider>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}